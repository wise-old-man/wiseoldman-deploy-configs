global:
  scrape_timeout: 10s

scrape_configs:
  - job_name: api-scrape
    metrics_path: /metrics
    scrape_interval: 30s
    params:
      source: ["api"]
    static_configs:
      - targets: ["metrics:3500"]
        labels:
          thread_index: "0"
      - targets: ["metrics:3500"]
        labels:
          thread_index: "1"
      - targets: ["metrics:3500"]
        labels:
          thread_index: "2"
      - targets: ["metrics:3500"]
        labels:
          thread_index: "3"
    relabel_configs:
      - source_labels: [thread_index]
        target_label: __param_thread_index

  - job_name: discord-bot-scrape
    metrics_path: /metrics
    params:
      source: ["discord-bot"]
    scrape_interval: 30s
    static_configs:
      - targets: ["metrics:3500"]

  - job_name: "cadvisor"
    scrape_interval: 30s
    static_configs:
      - targets: ["cadvisor:8080"]

  - job_name: "node-exporter"
    scrape_interval: 30s
    static_configs:
      - targets: ["node-exporter:9100"]
